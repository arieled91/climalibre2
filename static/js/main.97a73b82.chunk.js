(this.webpackJsonpclimalibre2=this.webpackJsonpclimalibre2||[]).push([[0],Array(26).concat([function(t,e,a){t.exports=a.p+"static/media/cloudy-sky-min.1effaf46.jpg"},function(t,e,a){t.exports=a.p+"static/media/cloudy-sky.d56cf3ed.jpg"},,,,,,,,,,,,,function(t,e,a){t.exports=a.p+"static/media/drizzle-min.d9ca9dd9.jpg"},function(t,e,a){t.exports=a.p+"static/media/drizzle-night-min.382ad09b.jpg"},function(t,e,a){t.exports=a.p+"static/media/fog-min.585687a6.jpg"},function(t,e,a){t.exports=a.p+"static/media/rainy-day-min.0408d453.jpg"},function(t,e,a){t.exports=a.p+"static/media/snow-min.813d8ba8.jpg"},function(t,e,a){t.exports=a.p+"static/media/storm-min.88eb52fb.jpg"},function(t,e,a){t.exports=a.p+"static/media/sunny-min.a647c593.jpg"},function(t,e,a){t.exports=a.p+"static/media/covered-min.20c0d102.jpg"},function(t,e,a){t.exports=a.p+"static/media/clear-sky-night-min.38b1b49c.jpg"},function(t,e,a){t.exports=a.p+"static/media/cloudy-sky-night-min.769c0453.jpg"},function(t,e,a){t.exports=a.p+"static/media/fog-night-min.e6e165b4.jpg"},function(t,e,a){t.exports=a.p+"static/media/snow-night-min.129bfaad.jpg"},function(t,e,a){t.exports=a.p+"static/media/covered-night-min.f0782ad0.jpg"},function(t,e,a){t.exports=a.p+"static/media/rainy-night-min.927a1ae9.jpg"},function(t,e,a){t.exports=a.p+"static/media/drizzle.c6679dc6.jpg"},function(t,e,a){t.exports=a.p+"static/media/drizzle-night.0f053312.jpg"},function(t,e,a){t.exports=a.p+"static/media/fog.cac8ace4.jpg"},function(t,e,a){t.exports=a.p+"static/media/rainy-day.1e31577d.jpg"},function(t,e,a){t.exports=a.p+"static/media/snow.272d8b9d.jpg"},function(t,e,a){t.exports=a.p+"static/media/storm.a1438dce.jpg"},function(t,e,a){t.exports=a.p+"static/media/sunny.5f43ef67.jpg"},function(t,e,a){t.exports=a.p+"static/media/covered.99c596e5.jpg"},function(t,e,a){t.exports=a.p+"static/media/clear-sky-night.f323ee0a.jpg"},function(t,e,a){t.exports=a.p+"static/media/cloudy-sky-night.84d67e51.jpg"},function(t,e,a){t.exports=a.p+"static/media/fog-night.b721e3af.jpg"},function(t,e,a){t.exports=a.p+"static/media/snow-night.acc734b5.jpg"},function(t,e,a){t.exports=a.p+"static/media/covered-night.a51160fd.jpg"},function(t,e,a){t.exports=a.p+"static/media/rainy-night.26eee4b5.jpg"},,,,,function(t,e,a){t.exports=a(107)},,,,,function(t,e,a){},function(t,e,a){},,,,,,,,,,,,,,,,,,,,,function(t,e,a){},function(t,e,a){},function(t,e,a){},,,,,,function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),r=a(13),o=a.n(r),c=(a(77),a(78),a(11)),s=a(37),u=new(a.n(s).a)({en:{loading:"Loading...",humidity:"Humidity",feelsLike:"Feels Like",wind:"Wind",important:"Important!",geolocationRequest:"Grant location permission in your device to continue",geolocationDisabled:"Geolocation is disabled in your device",north:"North",northEast:"Northeast",east:"East",southEast:"Southeast",south:"South",southWest:"Southwest",west:"West",northwest:"Northwest",station:"Station"},es:{loading:"Cargando...",humidity:"Humedad",feelsLike:"Sensaci\xf3n t\xe9rmica",wind:"Viento",important:"\xa1Importante!",geolocationRequest:"Para continuar conceda permisos de ubicaci\xf3n.",geolocationDisabled:"La geolocalizaci\xf3n se encuentra deshabilitada en su dispositivo",north:"Norte",northEast:"Noreste",east:"Este",southEast:"Sudeste",south:"Sur",southWest:"Sudoeste",west:"Oeste",northwest:"Noroeste",station:"Estaci\xf3n"}}),l=a(12),m=a(10),p=a.n(m),f=a(17),d=a(38),g=a(39),h=a(18),E=a.n(h),b=function(){function t(){Object(d.a)(this,t)}return Object(g.a)(t,null,[{key:"getIpLocation",value:function(){var t=Object(f.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.get(this.IP_LOCATION).then((function(t){return t.data}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getWeatherByCity",value:function(){var t=Object(f.a)(p.a.mark((function t(e,a,n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.get(this.WEATHER,{params:Object(l.a)(Object(l.a)({},this.baseParams),{},{q:"".concat(e,",").concat(a),lang:n})}).then((function(t){return t.data}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e,a,n){return t.apply(this,arguments)}}()},{key:"getWeatherByCoords",value:function(){var t=Object(f.a)(p.a.mark((function t(e,a,n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.get(this.WEATHER,{params:Object(l.a)(Object(l.a)({},this.baseParams),{},{lat:e,lon:a,lang:n})}).then((function(t){return t.data}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e,a,n){return t.apply(this,arguments)}}()},{key:"getForecastByCity",value:function(){var t=Object(f.a)(p.a.mark((function t(e,a,n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.get(this.FORECAST,{params:Object(l.a)(Object(l.a)({},this.baseParams),{},{q:"".concat(e,",").concat(a),lang:n})}).then((function(t){return t.data}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e,a,n){return t.apply(this,arguments)}}()},{key:"getForecastByCoords",value:function(){var t=Object(f.a)(p.a.mark((function t(e,a,n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.get(this.FORECAST,{params:Object(l.a)(Object(l.a)({},this.baseParams),{},{lat:e,lon:a,lang:n})}).then((function(t){return t.data}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e,a,n){return t.apply(this,arguments)}}()}]),t}();b.OWM_API_ID="bb08096af050f2bd4c2b401249b14e27",b.URL="https://api.openweathermap.org/data/2.5",b.WEATHER=b.URL+"/weather",b.FORECAST=b.URL+"/forecast",b.IP_LOCATION="https://ipapi.co/json",b.baseParams={appid:b.OWM_API_ID,units:"metric"};var y=a(16),v=a(130),w=a(128),j=(a(99),a(26)),x=a.n(j),O=a(40),k=a.n(O),S=a(41),C=a.n(S),L=a(42),N=a.n(L),z=a(43),I=a.n(z),W=a(44),A=a.n(W),B=a(45),F=a.n(B),R=a(46),P=a.n(R),T=a(47),D=a.n(T),_=a(48),H=a.n(_),q=a(49),M=a.n(q),U=a(50),G=a.n(U),J=a(51),V=a.n(J),$=a(52),K=a.n($),Q=a(53),X=a.n(Q),Y=a(27),Z=a.n(Y),tt=a(54),et=a.n(tt),at=a(55),nt=a.n(at),it=a(56),rt=a.n(it),ot=a(57),ct=a.n(ot),st=a(58),ut=a.n(st),lt=a(59),mt=a.n(lt),pt=a(60),ft=a.n(pt),dt=a(61),gt=a.n(dt),ht=a(62),Et=a.n(ht),bt=a(63),yt=a.n(bt),vt=a(64),wt=a.n(vt),jt=a(65),xt=a.n(jt),Ot=a(66),kt=a.n(Ot),St=a(67),Ct=a.n(St),Lt=(a(100),function(t){var e=t.weather,a=Object(y.a)(t,["weather"]),n=i.a.useState({min:"",full:""}),r=Object(c.a)(n,2),o=r[0],s=r[1],u=i.a.useState(!1),l=Object(c.a)(u,2),m=l[0],p=l[1],f=i.a.useCallback((function(){var t=1e3*e.sys.sunrise,a=1e3*e.sys.sunset,n=(new Date).getTime();return n>t&&n<a}),[e]),d=i.a.useCallback((function(){if(!e)return null;var t=e.weather[0].id,a=(""+t)[0],n=f();switch(a){case"2":return{full:mt.a,min:F.a};case"3":return n?{full:et.a,min:k.a}:{full:nt.a,min:C.a};case"5":return n?{full:ct.a,min:I.a}:{full:Ct.a,min:X.a};case"6":return n?{full:ut.a,min:A.a}:{full:xt.a,min:V.a};case"7":return n?{full:rt.a,min:N.a}:{full:wt.a,min:G.a};case"8":return 800===t||801===t?n?{full:ft.a,min:P.a}:{full:Et.a,min:H.a}:802===t||803===t?n?{full:Z.a,min:x.a}:{full:yt.a,min:M.a}:n?{full:gt.a,min:D.a}:{full:kt.a,min:K.a};default:return{full:Z.a,min:x.a}}}),[f,e]);return i.a.useEffect((function(){s(d())}),[d,a.weather]),i.a.createElement("div",null,!m&&i.a.createElement("img",{className:"image thumb",src:o.min,alt:""}),i.a.createElement("img",{className:"image full",src:o.full,alt:"",onLoad:function(){return p(!0)}}))}),Nt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat(t).toFixed(e)},zt=(a(101),function(t){var e=t.forecasts;Object(y.a)(t,["forecasts"]);return i.a.createElement(n.Fragment,null,e.map((function(t){return i.a.createElement(n.Fragment,{key:t.dt},i.a.createElement("div",{className:"forecast-background"}),i.a.createElement("div",{className:"forecast-content"},i.a.createElement("div",{className:"capitalize forecast-title"},t.weather[0].description),i.a.createElement("div",{style:{display:"inline-block",textAlign:"center"}},i.a.createElement("img",{style:{marginBottom:"-10px",marginTop:"-5px",width:"35px"},alt:"",src:"https://openweathermap.org/img/w/".concat(t.weather[0].icon,".png")}),i.a.createElement("span",{style:{position:"relative",bottom:"4px"}},i.a.createElement("strong",null,Nt(t.main.temp)+"\xb0"))),i.a.createElement("div",null,i.a.createElement("strong",{style:{fontSize:"9pt"}},function(t){var e=new Date(t).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});return"0"===e.charAt(0)?e.substr(1):e}(1e3*t.dt)))))})))}),It=function(t){var e=t.weather,a=Object(y.a)(t,["weather"]),r=i.a.useState([]),o=Object(c.a)(r,2),s=o[0],l=o[1];i.a.useEffect((function(){a.forecast&&l(a.forecast.list.filter((function(t){return 1e3*t.dt<function(){var t=new Date;return t.setHours(7,0,0,0),t.setDate(t.getDate()+1),t}()})))}),[a.forecast]);var m;return i.a.createElement(n.Fragment,null,i.a.createElement(Lt,{weather:e}),i.a.createElement("div",{className:"weather-component main-component"},i.a.createElement(w.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:"fullHeight"},i.a.createElement(w.a,{item:!0},i.a.createElement(v.a,{variant:"caption",style:{fontSize:"10pt",color:"rgba(255,255,255,0.69)"}},e.name)),i.a.createElement(w.a,{item:!0},i.a.createElement(v.a,{variant:"h5",gutterBottom:!0,className:"capitalize",style:{marginBottom:"-5px"}},i.a.createElement("b",null,e.weather[0].description))),i.a.createElement(w.a,{item:!0},i.a.createElement(w.a,{container:!0,spacing:2,justify:"center",alignItems:"center"},i.a.createElement(w.a,{item:!0},i.a.createElement(v.a,{variant:"h4",style:{fontSize:"55pt",verticalAlign:"middle"}},i.a.createElement("img",{alt:"",src:"https://openweathermap.org/img/w/".concat(e.weather[0].icon,".png")}),Nt(e.main.temp)+"\xb0C")),i.a.createElement(w.a,{item:!0},i.a.createElement(w.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},i.a.createElement(w.a,{item:!0,style:{fontSize:"20pt"}},Nt(e.main.temp_max)+"\xb0"),i.a.createElement(w.a,{item:!0,style:{fontSize:"20pt"}},Nt(e.main.temp_min)+"\xb0"))))),i.a.createElement(w.a,{item:!0},i.a.createElement(v.a,{variant:"body1",gutterBottom:!0},u.feelsLike,": ",i.a.createElement("strong",null,Nt(e.main.feels_like)+"\xba"))),i.a.createElement(w.a,{item:!0},i.a.createElement(v.a,{variant:"body1",gutterBottom:!0},u.humidity,": ",i.a.createElement("strong",null,Nt(e.main.humidity)+"%"))),i.a.createElement(w.a,{item:!0},i.a.createElement(v.a,{variant:"body1",gutterBottom:!0},u.wind,": ",i.a.createElement("strong",null,Nt(e.wind.speed)+" km/h "+(m=e.wind.deg,[u.north,u.northEast,u.east,u.southEast,u.south,u.southWest,u.west,u.northwest,u.north][parseFloat(m%360/45).toFixed(0)]))))),i.a.createElement("div",{className:"hide-scrollbar forecast-container"},i.a.createElement(zt,{forecasts:s}))))},Wt=a(131),At=a(132),Bt=function(){var t=i.a.useState(null),e=Object(c.a)(t,2),a=e[0],n=e[1],r=i.a.useState(null),o=Object(c.a)(r,2),s=o[0],l=o[1],m=i.a.useState(null),p=Object(c.a)(m,2),f=p[0],d=p[1],g=i.a.useState(""),h=Object(c.a)(g,2),E=h[0],y=h[1],v="prompt",w="denied",j=i.a.useCallback((function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){return k(t.coords.latitude,t.coords.longitude)}))}),[]);i.a.useEffect((function(){navigator.permissions.query({name:"geolocation"}).then((function(t){y(t.state),t.onchange=function(){return y(t.state)}}))}),[]);var x=i.a.useCallback((function(){b.getIpLocation().then((function(t){S(t.city,t.country_code)})).catch((function(t){E!==v&&(d(u.geolocationDisabled),console.log(t))}))}),[E,v]),O=i.a.useCallback((function(){d(null),j(),E!==w&&E!==v&&navigator.geolocation||x()}),[j,x,E,w,v]);i.a.useEffect((function(){""!==E&&O()}),[O,E]);var k=function(t,e){b.getWeatherByCoords(t,e,u.getLanguage()).then((function(t){return n(t)})).catch((function(t){d(t.message),console.log(t)})),b.getForecastByCoords(t,e,u.getLanguage()).then((function(t){l(t)})).catch((function(t){d(t.message),console.log(t)}))},S=function(t,e){b.getWeatherByCity(t,e,u.getLanguage()).then((function(t){return n(t)})).catch((function(t){d(t.message),console.log(t)}))},C=function(){O()};return i.a.useEffect((function(){return window.addEventListener("focus",C),function(){window.removeEventListener("focus",C)}})),i.a.createElement("div",{style:{height:"100%",width:"100%"}},f&&i.a.createElement(Wt.a,{severity:"error"},f),!a&&E===v&&i.a.createElement(Wt.a,{severity:"info"},i.a.createElement("strong",null,u.important)," "+u.geolocationRequest),a?i.a.createElement(It,{weather:a,forecast:s}):E!==w&&i.a.createElement(At.a,null))};var Ft=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(Bt,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(106);o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(Ft,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}]),[[72,1,2]]]);
//# sourceMappingURL=main.97a73b82.chunk.js.map