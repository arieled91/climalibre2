(this.webpackJsonpclimalibre2=this.webpackJsonpclimalibre2||[]).push([[0],Array(26).concat([function(e,t,a){e.exports=a.p+"static/media/cloudy-sky-min.1effaf46.jpg"},function(e,t,a){e.exports=a.p+"static/media/cloudy-sky.d56cf3ed.jpg"},,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/drizzle-min.d9ca9dd9.jpg"},function(e,t,a){e.exports=a.p+"static/media/drizzle-night-min.382ad09b.jpg"},function(e,t,a){e.exports=a.p+"static/media/fog-min.585687a6.jpg"},function(e,t,a){e.exports=a.p+"static/media/rainy-day-min.0408d453.jpg"},function(e,t,a){e.exports=a.p+"static/media/snow-min.813d8ba8.jpg"},function(e,t,a){e.exports=a.p+"static/media/storm-min.88eb52fb.jpg"},function(e,t,a){e.exports=a.p+"static/media/sunny-min.a647c593.jpg"},function(e,t,a){e.exports=a.p+"static/media/covered-min.20c0d102.jpg"},function(e,t,a){e.exports=a.p+"static/media/clear-sky-night-min.38b1b49c.jpg"},function(e,t,a){e.exports=a.p+"static/media/cloudy-sky-night-min.769c0453.jpg"},function(e,t,a){e.exports=a.p+"static/media/fog-night-min.e6e165b4.jpg"},function(e,t,a){e.exports=a.p+"static/media/snow-night-min.129bfaad.jpg"},function(e,t,a){e.exports=a.p+"static/media/covered-night-min.f0782ad0.jpg"},function(e,t,a){e.exports=a.p+"static/media/rainy-night-min.927a1ae9.jpg"},function(e,t,a){e.exports=a.p+"static/media/drizzle.c6679dc6.jpg"},function(e,t,a){e.exports=a.p+"static/media/drizzle-night.0f053312.jpg"},function(e,t,a){e.exports=a.p+"static/media/fog.cac8ace4.jpg"},function(e,t,a){e.exports=a.p+"static/media/rainy-day.1e31577d.jpg"},function(e,t,a){e.exports=a.p+"static/media/snow.272d8b9d.jpg"},function(e,t,a){e.exports=a.p+"static/media/storm.a1438dce.jpg"},function(e,t,a){e.exports=a.p+"static/media/sunny.5f43ef67.jpg"},function(e,t,a){e.exports=a.p+"static/media/covered.99c596e5.jpg"},function(e,t,a){e.exports=a.p+"static/media/clear-sky-night.f323ee0a.jpg"},function(e,t,a){e.exports=a.p+"static/media/cloudy-sky-night.84d67e51.jpg"},function(e,t,a){e.exports=a.p+"static/media/fog-night.b721e3af.jpg"},function(e,t,a){e.exports=a.p+"static/media/snow-night.acc734b5.jpg"},function(e,t,a){e.exports=a.p+"static/media/covered-night.a51160fd.jpg"},function(e,t,a){e.exports=a.p+"static/media/rainy-night.26eee4b5.jpg"},,,,,,,function(e,t,a){e.exports=a(111)},,,,,function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},,,function(e,t,a){},,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(13),c=a.n(r),o=(a(78),a(79),a(9)),s=a(135),u=a(136),l=a(23),m=a.n(l),p=new m.a({en:{loading:"Loading...",humidity:"Humidity",feelsLike:"Feels Like",wind:"Wind",important:"Important!",geolocationRequest:"Grant location permission in your device to continue",geolocationDisabled:"Geolocation is disabled in your device",north:"North",northEast:"Northeast",east:"East",southEast:"Southeast",south:"South",southWest:"Southwest",west:"West",northwest:"Northwest",station:"Station",noPrecipitations:"No precipitation expected",precipitations:function(e,t){return"Expected ".concat(e," at ").concat(t)}},es:{loading:"Cargando...",humidity:"Humedad",feelsLike:"Sensaci\xf3n t\xe9rmica",wind:"Viento",important:"\xa1Importante!",geolocationRequest:"Para continuar conceda permisos de ubicaci\xf3n.",geolocationDisabled:"La geolocalizaci\xf3n se encuentra deshabilitada en su dispositivo",north:"Norte",northEast:"Noreste",east:"Este",southEast:"Sudeste",south:"Sur",southWest:"Sudoeste",west:"Oeste",northwest:"Noroeste",station:"Estaci\xf3n",noPrecipitations:"No se esperan precipitaciones",precipitations:function(e,t){return"Se espera ".concat(e," a las ").concat(t)}}}),f=a(12),d=a(11),g=a.n(d),h=a(16),E=a(37),b=a(38),y=a(17),v=a.n(y),w=function(){function e(){Object(E.a)(this,e)}return Object(b.a)(e,null,[{key:"getIpLocation",value:function(){var e=Object(h.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(this.IP_LOCATION).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getWeatherByCity",value:function(){var e=Object(h.a)(g.a.mark((function e(t,a,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(this.WEATHER,{params:Object(f.a)(Object(f.a)({},this.baseParams),{},{q:"".concat(t,",").concat(a),lang:n})}).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getWeatherByCoords",value:function(){var e=Object(h.a)(g.a.mark((function e(t,a,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(this.WEATHER,{params:Object(f.a)(Object(f.a)({},this.baseParams),{},{lat:t,lon:a,lang:n})}).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getForecastByCity",value:function(){var e=Object(h.a)(g.a.mark((function e(t,a,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(this.FORECAST,{params:Object(f.a)(Object(f.a)({},this.baseParams),{},{q:"".concat(t,",").concat(a),lang:n})}).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getForecastByCoords",value:function(){var e=Object(h.a)(g.a.mark((function e(t,a,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(this.FORECAST,{params:Object(f.a)(Object(f.a)({},this.baseParams),{},{lat:t,lon:a,lang:n})}).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()}]),e}();w.OWM_API_ID="bb08096af050f2bd4c2b401249b14e27",w.URL="https://api.openweathermap.org/data/2.5",w.WEATHER=w.URL+"/weather",w.FORECAST=w.URL+"/forecast",w.IP_LOCATION="https://ipapi.co/json",w.baseParams={appid:w.OWM_API_ID,units:"metric"};var j=a(134),x=a(132),O=(a(100),a(26)),k=a.n(O),C=a(39),L=a.n(C),S=a(40),N=a.n(S),A=a(41),D=a.n(A),I=a(42),R=a.n(I),T=a(43),W=a.n(T),_=a(44),P=a.n(_),z=a(45),B=a.n(z),F=a(46),H=a.n(F),Y=a(47),U=a.n(Y),q=a(48),G=a.n(q),M=a(49),J=a.n(M),V=a(50),$=a.n(V),K=a(51),Q=a.n(K),X=a(52),Z=a.n(X),ee=a(27),te=a.n(ee),ae=a(53),ne=a.n(ae),ie=a(54),re=a.n(ie),ce=a(55),oe=a.n(ce),se=a(56),ue=a.n(se),le=a(57),me=a.n(le),pe=a(58),fe=a.n(pe),de=a(59),ge=a.n(de),he=a(60),Ee=a.n(he),be=a(61),ye=a.n(be),ve=a(62),we=a.n(ve),je=a(63),xe=a.n(je),Oe=a(64),ke=a.n(Oe),Ce=a(65),Le=a.n(Ce),Se=a(66),Ne=a.n(Se),Ae=(a(101),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat(e).toFixed(t)}),De=function(e){var t=new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});return"0"===t.charAt(0)?t.substr(1):t},Ie=function(e){var t=1e3*e.sys.sunrise,a=1e3*e.sys.sunset,n=(new Date).getTime();return n>t&&n<a},Re=a(4),Te=a.n(Re),We=(Te.a.shape({name:Te.a.string,weather:Te.a.array,main:Te.a.object,wind:Te.a.object}),Te.a.shape({list:Te.a.array}),function(e){var t=e.weather,a=i.a.useState({min:"",full:""}),n=Object(o.a)(a,2),r=n[0],c=n[1],s=i.a.useState(!1),u=Object(o.a)(s,2),l=u[0],m=u[1],p=i.a.useCallback((function(){return Ie(t)}),[t]),f=i.a.useCallback((function(){if(!t)return null;var e=t.weather[0].id,a=(""+e)[0],n=p();switch(a){case"2":return{full:fe.a,min:P.a};case"3":return n?{full:ne.a,min:L.a}:{full:re.a,min:N.a};case"5":return n?{full:ue.a,min:R.a}:{full:Ne.a,min:Z.a};case"6":return n?{full:me.a,min:W.a}:{full:ke.a,min:$.a};case"7":return n?{full:oe.a,min:D.a}:{full:xe.a,min:J.a};case"8":return 800===e||801===e?n?{full:ge.a,min:B.a}:{full:ye.a,min:U.a}:802===e||803===e?n?{full:te.a,min:k.a}:{full:we.a,min:G.a}:n?{full:Ee.a,min:H.a}:{full:Le.a,min:Q.a};default:return{full:te.a,min:k.a}}}),[p,t]);return i.a.useEffect((function(){c(f())}),[f,t]),i.a.createElement("div",null,!l&&i.a.createElement("img",{className:"image thumb",src:r.min,alt:""}),i.a.createElement("img",{className:"image full",src:r.full,alt:"",onLoad:function(){return m(!0)}}))}),_e=(a(104),a(69)),Pe=a(67),ze=a.n(Pe),Be=function(e){var t=e.isDayTime,a=void 0===t||t,r=e.weatherCode,c=Object(_e.a)(e,["isDayTime","weatherCode"]),s=i.a.useState(null),u=Object(o.a)(s,2),l=u[0],m=u[1];return i.a.useEffect((function(){if(null!==r&&void 0!==r)switch(r.toString()[0]){case"2":case"5":case"3":m("RAIN");break;case"6":[612,613,615].includes(r)?m("SLEET"):m("SNOW");break;case"7":[771,781].includes(r)?m("WIND"):m("FOG");break;case"8":[800,801].includes(r)&&m(a?"CLEAR_DAY":"CLEAR_NIGHT"),[802,803].includes(r)&&m(a?"PARTLY_CLOUDY_DAY":"PARTLY_CLOUDY_NIGHT"),804===r&&m("CLOUDY");break;default:m("PARTLY_CLOUDY_DAY")}}),[r,a]),i.a.createElement(n.Fragment,null,l&&i.a.createElement(ze.a,Object.assign({id:"canvas",icon:l},c)))},Fe=function(e){var t=e.weather,a=e.forecasts;return i.a.createElement("div",{className:"today-forecast"},a.map((function(e){return i.a.createElement(n.Fragment,{key:e.dt},i.a.createElement("div",{className:"forecast-content"},i.a.createElement("div",{style:{display:"flex",textAlign:"center"}},i.a.createElement(Be,{isDayTime:Ie(t),weatherCode:e.weather[0].id,size:30,color:"white"}),i.a.createElement("span",{className:"temp"},i.a.createElement("strong",null,Ae(e.main.temp)+"\xb0"))),i.a.createElement("div",null,i.a.createElement("strong",{style:{fontSize:"9pt"}},De(1e3*e.dt)))))})))},He=function(e){var t=e.weather,a=e.forecast,r=i.a.useState([]),c=Object(o.a)(r,2),s=c[0],u=c[1],l=i.a.useState(null),m=Object(o.a)(l,2),f=m[0],d=m[1];i.a.useEffect((function(){if(a){var e=a.list.filter((function(e){return 1e3*e.dt<function(){var e=new Date;e.setHours(e.getHours()+24);var t,a,n=new Date;return n.setHours(7,0,0,0),n.setDate(n.getDate()+1),(t=e)<=(a=n)?t:a}()}));u(e),d(e.find((function(e){return"Rain"===e.weather[0].main})))}}),[a]);var g,h;return i.a.createElement(n.Fragment,null,i.a.createElement(We,{weather:t}),i.a.createElement("div",{className:"weather-component main-component"},i.a.createElement(x.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:"fullHeight"},i.a.createElement(x.a,{item:!0},i.a.createElement(j.a,{variant:"caption",style:{fontSize:"10pt",color:"rgba(255,255,255,0.69)"}},t.name)),i.a.createElement(x.a,{item:!0},i.a.createElement(j.a,{variant:"h5",gutterBottom:!0,className:"capitalize",style:{marginBottom:"-5px"}},i.a.createElement("b",null,t.weather[0].description))),i.a.createElement(x.a,{item:!0},i.a.createElement(x.a,{container:!0,spacing:2,justify:"center",alignItems:"center"},i.a.createElement(x.a,{item:!0},i.a.createElement(j.a,{variant:"h4",style:{fontSize:"55pt",verticalAlign:"middle"}},i.a.createElement(Be,{isDayTime:Ie(t),weatherCode:t.weather[0].id,color:"white"}),Ae(t.main.temp)+"\xb0C")),i.a.createElement(x.a,{item:!0},i.a.createElement(x.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},i.a.createElement(x.a,{item:!0,style:{fontSize:"20pt"}},Ae(t.main.temp_max)+"\xb0"),i.a.createElement(x.a,{item:!0,style:{fontSize:"20pt"}},Ae(t.main.temp_min)+"\xb0"))))),i.a.createElement(x.a,{item:!0},i.a.createElement(j.a,{variant:"body1",gutterBottom:!0},p.feelsLike,": ",i.a.createElement("strong",null,Ae(t.main.feels_like)+"\xba"))),i.a.createElement(x.a,{item:!0},i.a.createElement(j.a,{variant:"body1",gutterBottom:!0},p.humidity,": ",i.a.createElement("strong",null,Ae(t.main.humidity)+"%"))),i.a.createElement(x.a,{item:!0},i.a.createElement(j.a,{variant:"body1",gutterBottom:!0},p.wind,": ",i.a.createElement("strong",null,Ae(t.wind.speed)+" km/h "+(h=t.wind.deg,[p.north,p.northEast,p.east,p.southEast,p.south,p.southWest,p.west,p.northwest,p.north][parseFloat(h%360/45).toFixed(0)])))),"Rain"!==t.weather[0].main&&i.a.createElement(x.a,{item:!0},i.a.createElement(j.a,{variant:"body1",gutterBottom:!0},i.a.createElement("b",null,f?(g=f,p.precipitations(g.weather[0].description,De(1e3*f.dt))):p.noPrecipitations)))),i.a.createElement("div",{className:"hide-scrollbar forecast-container"},i.a.createElement(Fe,{weather:t,forecasts:s}))))},Ye=function(){var e=i.a.useState(null),t=Object(o.a)(e,2),a=t[0],n=t[1],r=i.a.useState(null),c=Object(o.a)(r,2),l=c[0],m=c[1],f=i.a.useState(null),d=Object(o.a)(f,2),g=d[0],h=d[1],E=i.a.useState(""),b=Object(o.a)(E,2),y=b[0],v=b[1],j="prompt",x="denied",O=i.a.useCallback((function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){return t=e.coords.latitude,a=e.coords.longitude,w.getWeatherByCoords(t,a,p.getLanguage()).then((function(e){return n(e)})).catch((function(e){h(e.message),console.log(e)})),void w.getForecastByCoords(t,a,p.getLanguage()).then((function(e){m(e)})).catch((function(e){h(e.message),console.log(e)}));var t,a}))}),[]);i.a.useEffect((function(){navigator.permissions.query({name:"geolocation"}).then((function(e){v(e.state),e.onchange=function(){return v(e.state)}}))}),[]);var k=i.a.useCallback((function(){w.getIpLocation().then((function(e){L(e.city,e.country_code)})).catch((function(e){y!==j&&(h(p.geolocationDisabled),console.log(e))}))}),[y,j]),C=i.a.useCallback((function(){h(null),O(),y!==x&&y!==j&&navigator.geolocation||k()}),[O,k,y,x,j]);i.a.useEffect((function(){""!==y&&C()}),[C,y]);var L=function(e,t){w.getWeatherByCity(e,t,p.getLanguage()).then((function(e){return n(e)})).catch((function(e){h(e.message),console.log(e)}))},S=function(){C()};return i.a.useEffect((function(){return window.addEventListener("focus",S),function(){window.removeEventListener("focus",S)}})),i.a.createElement("div",{style:{height:"100%",width:"100%"}},g&&i.a.createElement(s.a,{severity:"error"},g),!a&&y===j&&i.a.createElement(s.a,{severity:"info"},i.a.createElement("strong",null,p.important)," ".concat(p.geolocationRequest)),a?i.a.createElement(He,{weather:a,forecast:l}):y!==x&&i.a.createElement(u.a,null))},Ue=new m.a({en:{lang:"en",title:"Open Weather"},es:{lang:"es",title:"Clima Libre"}});var qe=function(){return i.a.createElement("div",{className:"App",lang:Ue.lang},i.a.createElement(Ye,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(110);c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(qe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}]),[[73,1,2]]]);
//# sourceMappingURL=main.713bf656.chunk.js.map