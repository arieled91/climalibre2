(this.webpackJsonpclimalibre2=this.webpackJsonpclimalibre2||[]).push([[0],Array(26).concat([function(e,t,a){e.exports=a.p+"static/media/cloudy-sky-min.1effaf46.jpg"},function(e,t,a){e.exports=a.p+"static/media/cloudy-sky.d56cf3ed.jpg"},,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/drizzle-min.d9ca9dd9.jpg"},function(e,t,a){e.exports=a.p+"static/media/drizzle-night-min.382ad09b.jpg"},function(e,t,a){e.exports=a.p+"static/media/fog-min.585687a6.jpg"},function(e,t,a){e.exports=a.p+"static/media/rainy-day-min.0408d453.jpg"},function(e,t,a){e.exports=a.p+"static/media/snow-min.813d8ba8.jpg"},function(e,t,a){e.exports=a.p+"static/media/storm-min.88eb52fb.jpg"},function(e,t,a){e.exports=a.p+"static/media/sunny-min.a647c593.jpg"},function(e,t,a){e.exports=a.p+"static/media/covered-min.20c0d102.jpg"},function(e,t,a){e.exports=a.p+"static/media/clear-sky-night-min.38b1b49c.jpg"},function(e,t,a){e.exports=a.p+"static/media/cloudy-sky-night-min.769c0453.jpg"},function(e,t,a){e.exports=a.p+"static/media/fog-night-min.e6e165b4.jpg"},function(e,t,a){e.exports=a.p+"static/media/snow-night-min.129bfaad.jpg"},function(e,t,a){e.exports=a.p+"static/media/covered-night-min.f0782ad0.jpg"},function(e,t,a){e.exports=a.p+"static/media/rainy-night-min.927a1ae9.jpg"},function(e,t,a){e.exports=a.p+"static/media/drizzle.c6679dc6.jpg"},function(e,t,a){e.exports=a.p+"static/media/drizzle-night.0f053312.jpg"},function(e,t,a){e.exports=a.p+"static/media/fog.cac8ace4.jpg"},function(e,t,a){e.exports=a.p+"static/media/rainy-day.1e31577d.jpg"},function(e,t,a){e.exports=a.p+"static/media/snow.272d8b9d.jpg"},function(e,t,a){e.exports=a.p+"static/media/storm.a1438dce.jpg"},function(e,t,a){e.exports=a.p+"static/media/sunny.5f43ef67.jpg"},function(e,t,a){e.exports=a.p+"static/media/covered.99c596e5.jpg"},function(e,t,a){e.exports=a.p+"static/media/clear-sky-night.f323ee0a.jpg"},function(e,t,a){e.exports=a.p+"static/media/cloudy-sky-night.84d67e51.jpg"},function(e,t,a){e.exports=a.p+"static/media/fog-night.b721e3af.jpg"},function(e,t,a){e.exports=a.p+"static/media/snow-night.acc734b5.jpg"},function(e,t,a){e.exports=a.p+"static/media/covered-night.a51160fd.jpg"},function(e,t,a){e.exports=a.p+"static/media/rainy-night.26eee4b5.jpg"},,,,,,function(e,t,a){e.exports=a(111)},,,,,function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(13),c=a.n(r),o=(a(78),a(79),a(9)),s=a(37),u=new(a.n(s).a)({en:{loading:"Loading...",humidity:"Humidity",feelsLike:"Feels Like",wind:"Wind",important:"Important!",geolocationRequest:"Grant location permission in your device to continue",geolocationDisabled:"Geolocation is disabled in your device",north:"North",northEast:"Northeast",east:"East",southEast:"Southeast",south:"South",southWest:"Southwest",west:"West",northwest:"Northwest",station:"Station",noPrecipitations:"No precipitation expected",precipitations:function(e,t){return"Expected ".concat(e," at ").concat(t)}},es:{loading:"Cargando...",humidity:"Humedad",feelsLike:"Sensaci\xf3n t\xe9rmica",wind:"Viento",important:"\xa1Importante!",geolocationRequest:"Para continuar conceda permisos de ubicaci\xf3n.",geolocationDisabled:"La geolocalizaci\xf3n se encuentra deshabilitada en su dispositivo",north:"Norte",northEast:"Noreste",east:"Este",southEast:"Sudeste",south:"Sur",southWest:"Sudoeste",west:"Oeste",northwest:"Noroeste",station:"Estaci\xf3n",noPrecipitations:"No se esperan precipitaciones",precipitations:function(e,t){return"Se espera ".concat(e," a las ").concat(t)}}}),l=a(12),m=a(11),f=a.n(m),p=a(17),d=a(38),g=a(39),h=a(18),E=a.n(h),b=function(){function e(){Object(d.a)(this,e)}return Object(g.a)(e,null,[{key:"getIpLocation",value:function(){var e=Object(p.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(this.IP_LOCATION).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getWeatherByCity",value:function(){var e=Object(p.a)(f.a.mark((function e(t,a,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(this.WEATHER,{params:Object(l.a)(Object(l.a)({},this.baseParams),{},{q:"".concat(t,",").concat(a),lang:n})}).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getWeatherByCoords",value:function(){var e=Object(p.a)(f.a.mark((function e(t,a,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(this.WEATHER,{params:Object(l.a)(Object(l.a)({},this.baseParams),{},{lat:t,lon:a,lang:n})}).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getForecastByCity",value:function(){var e=Object(p.a)(f.a.mark((function e(t,a,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(this.FORECAST,{params:Object(l.a)(Object(l.a)({},this.baseParams),{},{q:"".concat(t,",").concat(a),lang:n})}).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getForecastByCoords",value:function(){var e=Object(p.a)(f.a.mark((function e(t,a,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(this.FORECAST,{params:Object(l.a)(Object(l.a)({},this.baseParams),{},{lat:t,lon:a,lang:n})}).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()}]),e}();b.OWM_API_ID="bb08096af050f2bd4c2b401249b14e27",b.URL="https://api.openweathermap.org/data/2.5",b.WEATHER=b.URL+"/weather",b.FORECAST=b.URL+"/forecast",b.IP_LOCATION="https://ipapi.co/json",b.baseParams={appid:b.OWM_API_ID,units:"metric"};var y=a(134),v=a(132),w=(a(100),a(16)),j=a(26),x=a.n(j),O=a(40),k=a.n(O),S=a(41),C=a.n(S),L=a(42),N=a.n(L),A=a(43),D=a.n(A),I=a(44),R=a.n(I),T=a(45),W=a.n(T),_=a(46),P=a.n(_),z=a(47),B=a.n(z),F=a(48),H=a.n(F),Y=a(49),U=a.n(Y),q=a(50),G=a.n(q),M=a(51),J=a.n(M),V=a(52),$=a.n(V),K=a(53),Q=a.n(K),X=a(27),Z=a.n(X),ee=a(54),te=a.n(ee),ae=a(55),ne=a.n(ae),ie=a(56),re=a.n(ie),ce=a(57),oe=a.n(ce),se=a(58),ue=a.n(se),le=a(59),me=a.n(le),fe=a(60),pe=a.n(fe),de=a(61),ge=a.n(de),he=a(62),Ee=a.n(he),be=a(63),ye=a.n(be),ve=a(64),we=a.n(ve),je=a(65),xe=a.n(je),Oe=a(66),ke=a.n(Oe),Se=a(67),Ce=a.n(Se),Le=(a(101),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat(e).toFixed(t)}),Ne=function(e){var t=new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});return"0"===t.charAt(0)?t.substr(1):t},Ae=function(e){var t=1e3*e.sys.sunrise,a=1e3*e.sys.sunset,n=(new Date).getTime();return n>t&&n<a},De=function(e){var t=e.weather,a=Object(w.a)(e,["weather"]),n=i.a.useState({min:"",full:""}),r=Object(o.a)(n,2),c=r[0],s=r[1],u=i.a.useState(!1),l=Object(o.a)(u,2),m=l[0],f=l[1],p=i.a.useCallback((function(){return Ae(t)}),[t]),d=i.a.useCallback((function(){if(!t)return null;var e=t.weather[0].id,a=(""+e)[0],n=p();switch(a){case"2":return{full:me.a,min:W.a};case"3":return n?{full:te.a,min:k.a}:{full:ne.a,min:C.a};case"5":return n?{full:oe.a,min:D.a}:{full:Ce.a,min:Q.a};case"6":return n?{full:ue.a,min:R.a}:{full:xe.a,min:J.a};case"7":return n?{full:re.a,min:N.a}:{full:we.a,min:G.a};case"8":return 800===e||801===e?n?{full:pe.a,min:P.a}:{full:Ee.a,min:H.a}:802===e||803===e?n?{full:Z.a,min:x.a}:{full:ye.a,min:U.a}:n?{full:ge.a,min:B.a}:{full:ke.a,min:$.a};default:return{full:Z.a,min:x.a}}}),[p,t]);return i.a.useEffect((function(){s(d())}),[d,a.weather]),i.a.createElement("div",null,!m&&i.a.createElement("img",{className:"image thumb",src:c.min,alt:""}),i.a.createElement("img",{className:"image full",src:c.full,alt:"",onLoad:function(){return f(!0)}}))},Ie=(a(102),a(68)),Re=a.n(Ie),Te=function(e){var t=e.isDayTime,a=void 0===t||t,r=e.weatherCode,c=Object(w.a)(e,["isDayTime","weatherCode"]),s=i.a.useState(null),u=Object(o.a)(s,2),l=u[0],m=u[1];return i.a.useEffect((function(){if(null!==r&&void 0!==r)switch(r.toString()[0]){case"2":case"5":case"3":m("RAIN");break;case"6":[612,613,615].includes(r)?m("SLEET"):m("SNOW");break;case"7":[771,781].includes(r)?m("WIND"):m("FOG");break;case"8":[800,801].includes(r)&&m(a?"CLEAR_DAY":"CLEAR_NIGHT"),[802,803].includes(r)&&m(a?"PARTLY_CLOUDY_DAY":"PARTLY_CLOUDY_NIGHT"),804===r&&m("CLOUDY");break;default:m("PARTLY_CLOUDY_DAY")}}),[r,a]),i.a.createElement(n.Fragment,null,l&&i.a.createElement(Re.a,Object.assign({id:"canvas",icon:l},c)))},We=function(e){var t=e.weather,a=e.forecasts;Object(w.a)(e,["weather","forecasts"]);return i.a.createElement("div",{className:"today-forecast"},a.map((function(e){return i.a.createElement(n.Fragment,{key:e.dt},i.a.createElement("div",{className:"forecast-content"},i.a.createElement("div",{style:{display:"flex",textAlign:"center"}},i.a.createElement(Te,{isDayTime:Ae(t),weatherCode:e.weather[0].id,size:30,color:"white"}),i.a.createElement("span",{className:"temp"},i.a.createElement("strong",null,Le(e.main.temp)+"\xb0"))),i.a.createElement("div",null,i.a.createElement("strong",{style:{fontSize:"9pt"}},Ne(1e3*e.dt)))))})))},_e=function(e){var t=e.weather,a=e.forecast,r=i.a.useState([]),c=Object(o.a)(r,2),s=c[0],l=c[1],m=i.a.useState(null),f=Object(o.a)(m,2),p=f[0],d=f[1];i.a.useEffect((function(){if(a){var e=a.list.filter((function(e){return 1e3*e.dt<function(){var e=new Date;e.setHours(e.getHours()+24);var t,a,n=new Date;return n.setHours(7,0,0,0),n.setDate(n.getDate()+1),(t=e)<=(a=n)?t:a}()}));l(e),d(e.find((function(e){return"Rain"===e.weather[0].main})))}}),[a]);var g;return i.a.createElement(n.Fragment,null,i.a.createElement(De,{weather:t}),i.a.createElement("div",{className:"weather-component main-component"},i.a.createElement(v.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:"fullHeight"},i.a.createElement(v.a,{item:!0},i.a.createElement(y.a,{variant:"caption",style:{fontSize:"10pt",color:"rgba(255,255,255,0.69)"}},t.name)),i.a.createElement(v.a,{item:!0},i.a.createElement(y.a,{variant:"h5",gutterBottom:!0,className:"capitalize",style:{marginBottom:"-5px"}},i.a.createElement("b",null,t.weather[0].description))),i.a.createElement(v.a,{item:!0},i.a.createElement(v.a,{container:!0,spacing:2,justify:"center",alignItems:"center"},i.a.createElement(v.a,{item:!0},i.a.createElement(y.a,{variant:"h4",style:{fontSize:"55pt",verticalAlign:"middle"}},i.a.createElement(Te,{isDayTime:Ae(t),weatherCode:t.weather[0].id,color:"white"}),Le(t.main.temp)+"\xb0C")),i.a.createElement(v.a,{item:!0},i.a.createElement(v.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},i.a.createElement(v.a,{item:!0,style:{fontSize:"20pt"}},Le(t.main.temp_max)+"\xb0"),i.a.createElement(v.a,{item:!0,style:{fontSize:"20pt"}},Le(t.main.temp_min)+"\xb0"))))),i.a.createElement(v.a,{item:!0},i.a.createElement(y.a,{variant:"body1",gutterBottom:!0},u.feelsLike,": ",i.a.createElement("strong",null,Le(t.main.feels_like)+"\xba"))),i.a.createElement(v.a,{item:!0},i.a.createElement(y.a,{variant:"body1",gutterBottom:!0},u.humidity,": ",i.a.createElement("strong",null,Le(t.main.humidity)+"%"))),i.a.createElement(v.a,{item:!0},i.a.createElement(y.a,{variant:"body1",gutterBottom:!0},u.wind,": ",i.a.createElement("strong",null,Le(t.wind.speed)+" km/h "+(g=t.wind.deg,[u.north,u.northEast,u.east,u.southEast,u.south,u.southWest,u.west,u.northwest,u.north][parseFloat(g%360/45).toFixed(0)])))),"Rain"!==t.weather[0].main&&i.a.createElement(v.a,{item:!0},i.a.createElement(y.a,{variant:"body1",gutterBottom:!0},i.a.createElement("b",null,p?u.precipitations(p.weather[0].description,Ne(1e3*p.dt)):u.noPrecipitations)))),i.a.createElement("div",{className:"hide-scrollbar forecast-container"},i.a.createElement(We,{weather:t,forecasts:s}))))},Pe=a(135),ze=a(136),Be=function(){var e=i.a.useState(null),t=Object(o.a)(e,2),a=t[0],n=t[1],r=i.a.useState(null),c=Object(o.a)(r,2),s=c[0],l=c[1],m=i.a.useState(null),f=Object(o.a)(m,2),p=f[0],d=f[1],g=i.a.useState(""),h=Object(o.a)(g,2),E=h[0],y=h[1],v="prompt",w="denied",j=i.a.useCallback((function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){return k(e.coords.latitude,e.coords.longitude)}))}),[]);i.a.useEffect((function(){navigator.permissions.query({name:"geolocation"}).then((function(e){y(e.state),e.onchange=function(){return y(e.state)}}))}),[]);var x=i.a.useCallback((function(){b.getIpLocation().then((function(e){S(e.city,e.country_code)})).catch((function(e){E!==v&&(d(u.geolocationDisabled),console.log(e))}))}),[E,v]),O=i.a.useCallback((function(){d(null),j(),E!==w&&E!==v&&navigator.geolocation||x()}),[j,x,E,w,v]);i.a.useEffect((function(){""!==E&&O()}),[O,E]);var k=function(e,t){b.getWeatherByCoords(e,t,u.getLanguage()).then((function(e){return n(e)})).catch((function(e){d(e.message),console.log(e)})),b.getForecastByCoords(e,t,u.getLanguage()).then((function(e){l(e)})).catch((function(e){d(e.message),console.log(e)}))},S=function(e,t){b.getWeatherByCity(e,t,u.getLanguage()).then((function(e){return n(e)})).catch((function(e){d(e.message),console.log(e)}))},C=function(){O()};return i.a.useEffect((function(){return window.addEventListener("focus",C),function(){window.removeEventListener("focus",C)}})),i.a.createElement("div",{style:{height:"100%",width:"100%"}},p&&i.a.createElement(Pe.a,{severity:"error"},p),!a&&E===v&&i.a.createElement(Pe.a,{severity:"info"},i.a.createElement("strong",null,u.important)," "+u.geolocationRequest),a?i.a.createElement(_e,{weather:a,forecast:s}):E!==w&&i.a.createElement(ze.a,null))};var Fe=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(Be,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(110);c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(Fe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}]),[[73,1,2]]]);
//# sourceMappingURL=main.aa723bb2.chunk.js.map