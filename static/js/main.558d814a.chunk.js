(this.webpackJsonpclimalibre2=this.webpackJsonpclimalibre2||[]).push([[0],[,,,,,,,,,,,function(e,t,a){e.exports={container:"WeatherComponent_container__1o1Bu",weatherComponent:"WeatherComponent_weatherComponent__3bNnQ",capitalize:"WeatherComponent_capitalize__37yNi",hideScrollbar:"WeatherComponent_hideScrollbar__1CYwp",forecastContainer:"WeatherComponent_forecastContainer__3z1uW",currentWeather:"WeatherComponent_currentWeather__262FJ",mainComponent:"WeatherComponent_mainComponent__mdLAj",temp:"WeatherComponent_temp__24mw7",bg:"WeatherComponent_bg__6dKOJ"}},,,,,,,,function(e,t,a){e.exports={container:"BackgroundImage_container__1g-yv",image:"BackgroundImage_image__S0xfp",thumb:"BackgroundImage_thumb__gmPWZ",hidden:"BackgroundImage_hidden__3clwO"}},,,,,,,function(e,t,a){e.exports={forecastContent:"TodayForecast_forecastContent__36Mz9",todayForecast:"TodayForecast_todayForecast__2g0ve",forecastTitle:"TodayForecast_forecastTitle__2Rdyt",extraShadow:"TodayForecast_extraShadow__1opR1",temp:"TodayForecast_temp__1QXG7"}},function(e,t,a){e.exports=a.p+"static/media/cloudy-sky-min.1effaf46.jpg"},function(e,t,a){e.exports=a.p+"static/media/cloudy-sky.d56cf3ed.jpg"},,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/drizzle-min.d9ca9dd9.jpg"},function(e,t,a){e.exports=a.p+"static/media/drizzle-night-min.382ad09b.jpg"},function(e,t,a){e.exports=a.p+"static/media/fog-min.585687a6.jpg"},function(e,t,a){e.exports=a.p+"static/media/rainy-day-min.0408d453.jpg"},function(e,t,a){e.exports=a.p+"static/media/snow-min.813d8ba8.jpg"},function(e,t,a){e.exports=a.p+"static/media/storm-min.88eb52fb.jpg"},function(e,t,a){e.exports=a.p+"static/media/sunny-min.a647c593.jpg"},function(e,t,a){e.exports=a.p+"static/media/covered-min.20c0d102.jpg"},function(e,t,a){e.exports=a.p+"static/media/clear-sky-night-min.38b1b49c.jpg"},function(e,t,a){e.exports=a.p+"static/media/cloudy-sky-night-min.769c0453.jpg"},function(e,t,a){e.exports=a.p+"static/media/fog-night-min.e6e165b4.jpg"},function(e,t,a){e.exports=a.p+"static/media/snow-night-min.129bfaad.jpg"},function(e,t,a){e.exports=a.p+"static/media/covered-night-min.f0782ad0.jpg"},function(e,t,a){e.exports=a.p+"static/media/rainy-night-min.927a1ae9.jpg"},function(e,t,a){e.exports=a.p+"static/media/drizzle.c6679dc6.jpg"},function(e,t,a){e.exports=a.p+"static/media/drizzle-night.0f053312.jpg"},function(e,t,a){e.exports=a.p+"static/media/fog.cac8ace4.jpg"},function(e,t,a){e.exports=a.p+"static/media/rainy-day.1e31577d.jpg"},function(e,t,a){e.exports=a.p+"static/media/snow.272d8b9d.jpg"},function(e,t,a){e.exports=a.p+"static/media/storm.a1438dce.jpg"},function(e,t,a){e.exports=a.p+"static/media/sunny.5f43ef67.jpg"},function(e,t,a){e.exports=a.p+"static/media/covered.99c596e5.jpg"},function(e,t,a){e.exports=a.p+"static/media/clear-sky-night.f323ee0a.jpg"},function(e,t,a){e.exports=a.p+"static/media/cloudy-sky-night.84d67e51.jpg"},function(e,t,a){e.exports=a.p+"static/media/fog-night.b721e3af.jpg"},function(e,t,a){e.exports=a.p+"static/media/snow-night.acc734b5.jpg"},function(e,t,a){e.exports=a.p+"static/media/covered-night.a51160fd.jpg"},function(e,t,a){e.exports=a.p+"static/media/rainy-night.26eee4b5.jpg"},,,function(e,t,a){e.exports={container:"Weather_container__2oDmk"}},,,,function(e,t,a){e.exports=a(109)},,,,,function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(14),o=a.n(i),c=(a(79),a(80),a(8)),s=a(131),u=a(130),l=a(24),m=a.n(l),p=new m.a({en:{loading:"Loading...",humidity:"Humidity",feelsLike:"Feels Like",wind:"Wind",important:"Important!",geolocationRequest:"Grant location permission in your device to continue",geolocationDisabled:"Geolocation is disabled in your device",north:"North",northEast:"Northeast",east:"East",southEast:"Southeast",south:"South",southWest:"Southwest",west:"West",northwest:"Northwest",station:"Station",noPrecipitations:"No precipitation expected",precipitations:function(e,t){return"Expected ".concat(e," at ").concat(t)}},es:{loading:"Cargando...",humidity:"Humedad",feelsLike:"Sensaci\xf3n t\xe9rmica",wind:"Viento",important:"\xa1Importante!",geolocationRequest:"Para continuar conceda permisos de ubicaci\xf3n.",geolocationDisabled:"La geolocalizaci\xf3n se encuentra deshabilitada en su dispositivo",north:"Norte",northEast:"Noreste",east:"Este",southEast:"Sudeste",south:"Sur",southWest:"Sudoeste",west:"Oeste",northwest:"Noroeste",station:"Estaci\xf3n",noPrecipitations:"No se esperan precipitaciones",precipitations:function(e,t){return"Se espera ".concat(e," a las ").concat(t)}}}),d=a(12),f=a(10),g=a.n(f),h=a(17),b=a(38),v=a(39),E=a(18),y=a.n(E),w=function(){function e(){Object(b.a)(this,e)}return Object(v.a)(e,null,[{key:"getIpLocation",value:function(){var e=Object(h.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get(this.IP_LOCATION).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getWeatherByCity",value:function(){var e=Object(h.a)(g.a.mark((function e(t,a,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get(this.WEATHER,{params:Object(d.a)(Object(d.a)({},this.baseParams),{},{q:"".concat(t,",").concat(a),lang:n})}).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getWeatherByCoords",value:function(){var e=Object(h.a)(g.a.mark((function e(t,a,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get(this.WEATHER,{params:Object(d.a)(Object(d.a)({},this.baseParams),{},{lat:t,lon:a,lang:n})}).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getForecastByCity",value:function(){var e=Object(h.a)(g.a.mark((function e(t,a,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get(this.FORECAST,{params:Object(d.a)(Object(d.a)({},this.baseParams),{},{q:"".concat(t,",").concat(a),lang:n})}).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getForecastByCoords",value:function(){var e=Object(h.a)(g.a.mark((function e(t,a,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get(this.FORECAST,{params:Object(d.a)(Object(d.a)({},this.baseParams),{},{lat:t,lon:a,lang:n})}).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()}]),e}();w.OWM_API_ID="bb08096af050f2bd4c2b401249b14e27",w.URL="https://api.openweathermap.org/data/2.5",w.WEATHER=w.URL+"/weather",w.FORECAST=w.URL+"/forecast",w.IP_LOCATION="https://ipapi.co/json",w.baseParams={appid:w.OWM_API_ID,units:"metric"};var _=a(129),j=a(11),x=a.n(j),C=a(27),O=a.n(C),k=a(40),S=a.n(k),W=a(41),N=a.n(W),L=a(42),T=a.n(L),D=a(43),A=a.n(D),F=a(44),R=a.n(F),I=a(45),B=a.n(I),P=a(46),z=a.n(P),Y=a(47),H=a.n(Y),U=a(48),q=a.n(U),G=a(49),J=a.n(G),M=a(50),Q=a.n(M),K=a(51),V=a.n(K),X=a(52),Z=a.n(X),$=a(53),ee=a.n($),te=a(28),ae=a.n(te),ne=a(54),re=a.n(ne),ie=a(55),oe=a.n(ie),ce=a(56),se=a.n(ce),ue=a(57),le=a.n(ue),me=a(58),pe=a.n(me),de=a(59),fe=a.n(de),ge=a(60),he=a.n(ge),be=a(61),ve=a.n(be),Ee=a(62),ye=a.n(Ee),we=a(63),_e=a.n(we),je=a(64),xe=a.n(je),Ce=a(65),Oe=a.n(Ce),ke=a(66),Se=a.n(ke),We=a(67),Ne=a.n(We),Le=a(19),Te=a.n(Le),De=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat(e).toFixed(t)},Ae=function(e){var t=new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});return"0"===t.charAt(0)?t.substr(1):t},Fe=function(e){var t=1e3*e.sys.sunrise,a=1e3*e.sys.sunset,n=(new Date).getTime();return n>t&&n<a},Re=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.join(" ")},Ie=a(3),Be=a.n(Ie),Pe=(Be.a.shape({name:Be.a.string,weather:Be.a.array,main:Be.a.object,wind:Be.a.object}),Be.a.shape({list:Be.a.array}),function(e){var t=e.weather,a=r.a.useState({min:"",full:""}),n=Object(c.a)(a,2),i=n[0],o=n[1],s=r.a.useState(!1),u=Object(c.a)(s,2),l=u[0],m=u[1],p=r.a.useCallback((function(){return Fe(t)}),[t]),d=r.a.useCallback((function(){if(!t)return null;var e=t.weather[0].id,a=(""+e)[0],n=p();switch(a){case"2":return{full:fe.a,min:B.a};case"3":return n?{full:re.a,min:S.a}:{full:oe.a,min:N.a};case"5":return n?{full:le.a,min:A.a}:{full:Ne.a,min:ee.a};case"6":return n?{full:pe.a,min:R.a}:{full:Oe.a,min:V.a};case"7":return n?{full:se.a,min:T.a}:{full:xe.a,min:Q.a};case"8":return 800===e||801===e?n?{full:he.a,min:z.a}:{full:ye.a,min:q.a}:802===e||803===e?n?{full:ae.a,min:O.a}:{full:_e.a,min:J.a}:n?{full:ve.a,min:H.a}:{full:Se.a,min:Z.a};default:return{full:ae.a,min:O.a}}}),[p,t]);return r.a.useEffect((function(){o(d())}),[d,t]),r.a.createElement("div",{className:Te.a.container},r.a.createElement("img",{className:Re(Te.a.image,Te.a.thumb,l?Te.a.hidden:""),src:i.min,alt:""}),r.a.createElement("img",{className:Te.a.image,src:i.full,alt:"",onLoad:function(){return m(!0)}}))}),ze=a(26),Ye=a.n(ze),He=a(71),Ue=a(68),qe=a.n(Ue),Ge=function(e){var t=e.isDayTime,a=void 0===t||t,n=e.weatherCode,i=Object(He.a)(e,["isDayTime","weatherCode"]),o=r.a.useState(null),s=Object(c.a)(o,2),u=s[0],l=s[1];return r.a.useEffect((function(){if(null!==n&&void 0!==n)switch(n.toString()[0]){case"2":case"5":case"3":l("RAIN");break;case"6":[612,613,615].includes(n)?l("SLEET"):l("SNOW");break;case"7":[771,781].includes(n)?l("WIND"):l("FOG");break;case"8":[800,801].includes(n)&&l(a?"CLEAR_DAY":"CLEAR_NIGHT"),[802,803].includes(n)&&l(a?"PARTLY_CLOUDY_DAY":"PARTLY_CLOUDY_NIGHT"),804===n&&l("CLOUDY");break;default:l("PARTLY_CLOUDY_DAY")}}),[n,a]),r.a.createElement("div",{className:"icon-container"},u&&r.a.createElement(qe.a,Object.assign({id:"canvas",icon:u},i)))},Je=function(e){var t=e.weather,a=e.forecasts;return r.a.createElement("div",{className:Ye.a.todayForecast},a.map((function(e){return r.a.createElement(n.Fragment,{key:e.dt},r.a.createElement("div",{className:Ye.a.forecastContent},r.a.createElement("div",{style:{display:"flex",textAlign:"center"}},r.a.createElement(Ge,{isDayTime:Fe(t),weatherCode:e.weather[0].id,size:30,color:"white"}),r.a.createElement("span",{className:Ye.a.temp},r.a.createElement("strong",null,De(e.main.temp)+"\xb0"))),r.a.createElement("div",null,r.a.createElement("strong",{style:{fontSize:"9pt"}},Ae(1e3*e.dt)))))})))},Me=function(e){var t=e.weather,a=e.forecast,n=r.a.useState([]),i=Object(c.a)(n,2),o=i[0],s=i[1],u=r.a.useState(null),l=Object(c.a)(u,2),m=l[0],d=l[1];r.a.useEffect((function(){if(a){var e=a.list.filter((function(e){return 1e3*e.dt<function(){var e=new Date;e.setHours(e.getHours()+24);var t,a,n=new Date;return n.setHours(7,0,0,0),n.setDate(n.getDate()+1),(t=e)<=(a=n)?t:a}()}));s(e),d(e.find((function(e){return"Rain"===e.weather[0].main})))}}),[a]);var f,g;return r.a.createElement("div",{className:x.a.container},r.a.createElement("div",{className:x.a.bg},r.a.createElement(Pe,{weather:t})),r.a.createElement("div",{className:Re(x.a.weatherComponent,x.a.mainComponent)},r.a.createElement("div",{className:x.a.currentWeather},r.a.createElement("div",null,r.a.createElement(_.a,{variant:"caption",style:{fontSize:"10pt",color:"rgba(255,255,255,0.69)"}},t.name)),r.a.createElement("div",{className:x.a.capitalize},r.a.createElement(_.a,{variant:"h5",gutterBottom:!0,style:{marginBottom:"-5px"}},r.a.createElement("b",null,t.weather[0].description))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{className:x.a.temp},r.a.createElement(Ge,{isDayTime:Fe(t),weatherCode:t.weather[0].id,color:"white"}),De(t.main.temp)+"\xb0C")))),r.a.createElement("div",null,r.a.createElement(_.a,{variant:"body1",gutterBottom:!0},p.feelsLike,": ",r.a.createElement("strong",null,De(t.main.feels_like)+"\xba"))),r.a.createElement("div",null,r.a.createElement(_.a,{variant:"body1",gutterBottom:!0},p.humidity,": ",r.a.createElement("strong",null,De(t.main.humidity)+"%"))),r.a.createElement("div",null,r.a.createElement(_.a,{variant:"body1",gutterBottom:!0},p.wind,": ",r.a.createElement("strong",null,De(t.wind.speed)+" km/h "+(g=t.wind.deg,[p.north,p.northEast,p.east,p.southEast,p.south,p.southWest,p.west,p.northwest,p.north][parseFloat(g%360/45).toFixed(0)])))),"Rain"!==t.weather[0].main&&r.a.createElement("div",null,r.a.createElement(_.a,{variant:"body1",gutterBottom:!0},r.a.createElement("b",null,m?(f=m,p.precipitations(f.weather[0].description,Ae(1e3*m.dt))):p.noPrecipitations)))),r.a.createElement("div",{className:Re(x.a.hideScrollbar,x.a.forecastContainer)},r.a.createElement(Je,{weather:t,forecasts:o}))))},Qe=a(70),Ke=a.n(Qe),Ve=function(){var e=r.a.useState(null),t=Object(c.a)(e,2),a=t[0],n=t[1],i=r.a.useState(null),o=Object(c.a)(i,2),l=o[0],m=o[1],d=r.a.useState(null),f=Object(c.a)(d,2),g=f[0],h=f[1],b=r.a.useState(""),v=Object(c.a)(b,2),E=v[0],y=v[1],_="prompt",j="denied",x=r.a.useCallback((function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){return t=e.coords.latitude,a=e.coords.longitude,w.getWeatherByCoords(t,a,p.getLanguage()).then((function(e){return n(e)})).catch((function(e){h(e.message),console.log(e)})),void w.getForecastByCoords(t,a,p.getLanguage()).then((function(e){m(e)})).catch((function(e){h(e.message),console.log(e)}));var t,a}))}),[]);r.a.useEffect((function(){navigator.permissions.query({name:"geolocation"}).then((function(e){y(e.state),e.onchange=function(){return y(e.state)}}))}),[]);var C=r.a.useCallback((function(){w.getIpLocation().then((function(e){k(e.city,e.country_code)})).catch((function(e){E!==_&&(h(p.geolocationDisabled),console.log(e))}))}),[E,_]),O=r.a.useCallback((function(){h(null),x(),E!==j&&E!==_&&navigator.geolocation||C()}),[x,C,E,j,_]);r.a.useEffect((function(){""!==E&&O()}),[O,E]);var k=function(e,t){w.getWeatherByCity(e,t,p.getLanguage()).then((function(e){return n(e)})).catch((function(e){h(e.message),console.log(e)}))},S=function(){O()};return r.a.useEffect((function(){return window.addEventListener("focus",S),function(){window.removeEventListener("focus",S)}})),r.a.createElement("div",{className:Ke.a.container},g&&r.a.createElement(s.a,{severity:"error"},g),!a&&E===_&&r.a.createElement(s.a,{severity:"info"},r.a.createElement("strong",null,p.important)," ".concat(p.geolocationRequest)),a&&r.a.createElement(Me,{weather:a,forecast:l}),!a&&E!==j&&r.a.createElement("div",{style:{display:"flex",justifyContent:"center",position:"relative",top:"50%"}},r.a.createElement(u.a,null)))},Xe=new m.a({en:{lang:"en",title:"Open Weather"},es:{lang:"es",title:"Clima Libre"}});var Ze=function(){return r.a.createElement("div",{className:"app",lang:Xe.lang},r.a.createElement(Ve,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(108);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ze,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[74,1,2]]]);
//# sourceMappingURL=main.558d814a.chunk.js.map