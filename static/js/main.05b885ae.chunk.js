(this.webpackJsonpclimalibre2=this.webpackJsonpclimalibre2||[]).push([[0],Array(25).concat([function(e,t,a){e.exports=a.p+"static/media/cloudy-sky-min.1effaf46.jpg"},function(e,t,a){e.exports=a.p+"static/media/cloudy-sky.d56cf3ed.jpg"},,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/drizzle-min.d9ca9dd9.jpg"},function(e,t,a){e.exports=a.p+"static/media/drizzle-night-min.382ad09b.jpg"},function(e,t,a){e.exports=a.p+"static/media/fog-min.585687a6.jpg"},function(e,t,a){e.exports=a.p+"static/media/rainy-day-min.0408d453.jpg"},function(e,t,a){e.exports=a.p+"static/media/snow-min.813d8ba8.jpg"},function(e,t,a){e.exports=a.p+"static/media/storm-min.88eb52fb.jpg"},function(e,t,a){e.exports=a.p+"static/media/sunny-min.a647c593.jpg"},function(e,t,a){e.exports=a.p+"static/media/covered-min.20c0d102.jpg"},function(e,t,a){e.exports=a.p+"static/media/clear-sky-night-min.38b1b49c.jpg"},function(e,t,a){e.exports=a.p+"static/media/cloudy-sky-night-min.769c0453.jpg"},function(e,t,a){e.exports=a.p+"static/media/fog-night-min.e6e165b4.jpg"},function(e,t,a){e.exports=a.p+"static/media/snow-night-min.129bfaad.jpg"},function(e,t,a){e.exports=a.p+"static/media/covered-night-min.f0782ad0.jpg"},function(e,t,a){e.exports=a.p+"static/media/rainy-night-min.927a1ae9.jpg"},function(e,t,a){e.exports=a.p+"static/media/drizzle.c6679dc6.jpg"},function(e,t,a){e.exports=a.p+"static/media/drizzle-night.0f053312.jpg"},function(e,t,a){e.exports=a.p+"static/media/fog.cac8ace4.jpg"},function(e,t,a){e.exports=a.p+"static/media/rainy-day.1e31577d.jpg"},function(e,t,a){e.exports=a.p+"static/media/snow.272d8b9d.jpg"},function(e,t,a){e.exports=a.p+"static/media/storm.a1438dce.jpg"},function(e,t,a){e.exports=a.p+"static/media/sunny.5f43ef67.jpg"},function(e,t,a){e.exports=a.p+"static/media/covered.99c596e5.jpg"},function(e,t,a){e.exports=a.p+"static/media/clear-sky-night.f323ee0a.jpg"},function(e,t,a){e.exports=a.p+"static/media/cloudy-sky-night.84d67e51.jpg"},function(e,t,a){e.exports=a.p+"static/media/fog-night.b721e3af.jpg"},function(e,t,a){e.exports=a.p+"static/media/snow-night.acc734b5.jpg"},function(e,t,a){e.exports=a.p+"static/media/covered-night.a51160fd.jpg"},function(e,t,a){e.exports=a.p+"static/media/rainy-night.26eee4b5.jpg"},,,,,,,function(e,t,a){e.exports=a(111)},,,,,function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},,,function(e,t,a){},,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(13),c=a.n(r),o=(a(78),a(79),a(9)),s=a(135),u=a(136),l=a(36),m=new(a.n(l).a)({en:{loading:"Loading...",humidity:"Humidity",feelsLike:"Feels Like",wind:"Wind",important:"Important!",geolocationRequest:"Grant location permission in your device to continue",geolocationDisabled:"Geolocation is disabled in your device",north:"North",northEast:"Northeast",east:"East",southEast:"Southeast",south:"South",southWest:"Southwest",west:"West",northwest:"Northwest",station:"Station",noPrecipitations:"No precipitation expected",precipitations:function(e,t){return"Expected ".concat(e," at ").concat(t)}},es:{loading:"Cargando...",humidity:"Humedad",feelsLike:"Sensaci\xf3n t\xe9rmica",wind:"Viento",important:"\xa1Importante!",geolocationRequest:"Para continuar conceda permisos de ubicaci\xf3n.",geolocationDisabled:"La geolocalizaci\xf3n se encuentra deshabilitada en su dispositivo",north:"Norte",northEast:"Noreste",east:"Este",southEast:"Sudeste",south:"Sur",southWest:"Sudoeste",west:"Oeste",northwest:"Noroeste",station:"Estaci\xf3n",noPrecipitations:"No se esperan precipitaciones",precipitations:function(e,t){return"Se espera ".concat(e," a las ").concat(t)}}}),p=a(12),f=a(11),d=a.n(f),g=a(16),h=a(37),E=a(38),b=a(17),y=a.n(b),v=function(){function e(){Object(h.a)(this,e)}return Object(E.a)(e,null,[{key:"getIpLocation",value:function(){var e=Object(g.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get(this.IP_LOCATION).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getWeatherByCity",value:function(){var e=Object(g.a)(d.a.mark((function e(t,a,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get(this.WEATHER,{params:Object(p.a)(Object(p.a)({},this.baseParams),{},{q:"".concat(t,",").concat(a),lang:n})}).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getWeatherByCoords",value:function(){var e=Object(g.a)(d.a.mark((function e(t,a,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get(this.WEATHER,{params:Object(p.a)(Object(p.a)({},this.baseParams),{},{lat:t,lon:a,lang:n})}).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getForecastByCity",value:function(){var e=Object(g.a)(d.a.mark((function e(t,a,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get(this.FORECAST,{params:Object(p.a)(Object(p.a)({},this.baseParams),{},{q:"".concat(t,",").concat(a),lang:n})}).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getForecastByCoords",value:function(){var e=Object(g.a)(d.a.mark((function e(t,a,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get(this.FORECAST,{params:Object(p.a)(Object(p.a)({},this.baseParams),{},{lat:t,lon:a,lang:n})}).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()}]),e}();v.OWM_API_ID="bb08096af050f2bd4c2b401249b14e27",v.URL="https://api.openweathermap.org/data/2.5",v.WEATHER=v.URL+"/weather",v.FORECAST=v.URL+"/forecast",v.IP_LOCATION="https://ipapi.co/json",v.baseParams={appid:v.OWM_API_ID,units:"metric"};var w=a(134),j=a(132),x=(a(100),a(25)),O=a.n(x),k=a(39),S=a.n(k),C=a(40),L=a.n(C),N=a(41),A=a.n(N),D=a(42),I=a.n(D),R=a(43),T=a.n(R),W=a(44),_=a.n(W),P=a(45),z=a.n(P),B=a(46),F=a.n(B),H=a(47),Y=a.n(H),U=a(48),q=a.n(U),G=a(49),M=a.n(G),J=a(50),V=a.n(J),$=a(51),K=a.n($),Q=a(52),X=a.n(Q),Z=a(26),ee=a.n(Z),te=a(53),ae=a.n(te),ne=a(54),ie=a.n(ne),re=a(55),ce=a.n(re),oe=a(56),se=a.n(oe),ue=a(57),le=a.n(ue),me=a(58),pe=a.n(me),fe=a(59),de=a.n(fe),ge=a(60),he=a.n(ge),Ee=a(61),be=a.n(Ee),ye=a(62),ve=a.n(ye),we=a(63),je=a.n(we),xe=a(64),Oe=a.n(xe),ke=a(65),Se=a.n(ke),Ce=a(66),Le=a.n(Ce),Ne=(a(101),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat(e).toFixed(t)}),Ae=function(e){var t=new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});return"0"===t.charAt(0)?t.substr(1):t},De=function(e){var t=1e3*e.sys.sunrise,a=1e3*e.sys.sunset,n=(new Date).getTime();return n>t&&n<a},Ie=a(4),Re=a.n(Ie),Te=(Re.a.shape({name:Re.a.string,weather:Re.a.array,main:Re.a.object,wind:Re.a.object}),Re.a.shape({list:Re.a.array}),function(e){var t=e.weather,a=i.a.useState({min:"",full:""}),n=Object(o.a)(a,2),r=n[0],c=n[1],s=i.a.useState(!1),u=Object(o.a)(s,2),l=u[0],m=u[1],p=i.a.useCallback((function(){return De(t)}),[t]),f=i.a.useCallback((function(){if(!t)return null;var e=t.weather[0].id,a=(""+e)[0],n=p();switch(a){case"2":return{full:pe.a,min:_.a};case"3":return n?{full:ae.a,min:S.a}:{full:ie.a,min:L.a};case"5":return n?{full:se.a,min:I.a}:{full:Le.a,min:X.a};case"6":return n?{full:le.a,min:T.a}:{full:Oe.a,min:V.a};case"7":return n?{full:ce.a,min:A.a}:{full:je.a,min:M.a};case"8":return 800===e||801===e?n?{full:de.a,min:z.a}:{full:be.a,min:Y.a}:802===e||803===e?n?{full:ee.a,min:O.a}:{full:ve.a,min:q.a}:n?{full:he.a,min:F.a}:{full:Se.a,min:K.a};default:return{full:ee.a,min:O.a}}}),[p,t]);return i.a.useEffect((function(){c(f())}),[f,t]),i.a.createElement("div",null,!l&&i.a.createElement("img",{className:"image thumb",src:r.min,alt:""}),i.a.createElement("img",{className:"image full",src:r.full,alt:"",onLoad:function(){return m(!0)}}))}),We=(a(104),a(69)),_e=a(67),Pe=a.n(_e),ze=function(e){var t=e.isDayTime,a=void 0===t||t,r=e.weatherCode,c=Object(We.a)(e,["isDayTime","weatherCode"]),s=i.a.useState(null),u=Object(o.a)(s,2),l=u[0],m=u[1];return i.a.useEffect((function(){if(null!==r&&void 0!==r)switch(r.toString()[0]){case"2":case"5":case"3":m("RAIN");break;case"6":[612,613,615].includes(r)?m("SLEET"):m("SNOW");break;case"7":[771,781].includes(r)?m("WIND"):m("FOG");break;case"8":[800,801].includes(r)&&m(a?"CLEAR_DAY":"CLEAR_NIGHT"),[802,803].includes(r)&&m(a?"PARTLY_CLOUDY_DAY":"PARTLY_CLOUDY_NIGHT"),804===r&&m("CLOUDY");break;default:m("PARTLY_CLOUDY_DAY")}}),[r,a]),i.a.createElement(n.Fragment,null,l&&i.a.createElement(Pe.a,Object.assign({id:"canvas",icon:l},c)))},Be=function(e){var t=e.weather,a=e.forecasts;return i.a.createElement("div",{className:"today-forecast"},a.map((function(e){return i.a.createElement(n.Fragment,{key:e.dt},i.a.createElement("div",{className:"forecast-content"},i.a.createElement("div",{style:{display:"flex",textAlign:"center"}},i.a.createElement(ze,{isDayTime:De(t),weatherCode:e.weather[0].id,size:30,color:"white"}),i.a.createElement("span",{className:"temp"},i.a.createElement("strong",null,Ne(e.main.temp)+"\xb0"))),i.a.createElement("div",null,i.a.createElement("strong",{style:{fontSize:"9pt"}},Ae(1e3*e.dt)))))})))},Fe=function(e){var t=e.weather,a=e.forecast,r=i.a.useState([]),c=Object(o.a)(r,2),s=c[0],u=c[1],l=i.a.useState(null),p=Object(o.a)(l,2),f=p[0],d=p[1];i.a.useEffect((function(){if(a){var e=a.list.filter((function(e){return 1e3*e.dt<function(){var e=new Date;e.setHours(e.getHours()+24);var t,a,n=new Date;return n.setHours(7,0,0,0),n.setDate(n.getDate()+1),(t=e)<=(a=n)?t:a}()}));u(e),d(e.find((function(e){return"Rain"===e.weather[0].main})))}}),[a]);var g,h;return i.a.createElement(n.Fragment,null,i.a.createElement(Te,{weather:t}),i.a.createElement("div",{className:"weather-component main-component"},i.a.createElement(j.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:"fullHeight"},i.a.createElement(j.a,{item:!0},i.a.createElement(w.a,{variant:"caption",style:{fontSize:"10pt",color:"rgba(255,255,255,0.69)"}},t.name)),i.a.createElement(j.a,{item:!0},i.a.createElement(w.a,{variant:"h5",gutterBottom:!0,className:"capitalize",style:{marginBottom:"-5px"}},i.a.createElement("b",null,t.weather[0].description))),i.a.createElement(j.a,{item:!0},i.a.createElement(j.a,{container:!0,spacing:2,justify:"center",alignItems:"center"},i.a.createElement(j.a,{item:!0},i.a.createElement(w.a,{variant:"h4",style:{fontSize:"55pt",verticalAlign:"middle"}},i.a.createElement(ze,{isDayTime:De(t),weatherCode:t.weather[0].id,color:"white"}),Ne(t.main.temp)+"\xb0C")),i.a.createElement(j.a,{item:!0},i.a.createElement(j.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},i.a.createElement(j.a,{item:!0,style:{fontSize:"20pt"}},Ne(t.main.temp_max)+"\xb0"),i.a.createElement(j.a,{item:!0,style:{fontSize:"20pt"}},Ne(t.main.temp_min)+"\xb0"))))),i.a.createElement(j.a,{item:!0},i.a.createElement(w.a,{variant:"body1",gutterBottom:!0},m.feelsLike,": ",i.a.createElement("strong",null,Ne(t.main.feels_like)+"\xba"))),i.a.createElement(j.a,{item:!0},i.a.createElement(w.a,{variant:"body1",gutterBottom:!0},m.humidity,": ",i.a.createElement("strong",null,Ne(t.main.humidity)+"%"))),i.a.createElement(j.a,{item:!0},i.a.createElement(w.a,{variant:"body1",gutterBottom:!0},m.wind,": ",i.a.createElement("strong",null,Ne(t.wind.speed)+" km/h "+(h=t.wind.deg,[m.north,m.northEast,m.east,m.southEast,m.south,m.southWest,m.west,m.northwest,m.north][parseFloat(h%360/45).toFixed(0)])))),"Rain"!==t.weather[0].main&&i.a.createElement(j.a,{item:!0},i.a.createElement(w.a,{variant:"body1",gutterBottom:!0},i.a.createElement("b",null,f?(g=f,m.precipitations(g.weather[0].description,Ae(1e3*f.dt))):m.noPrecipitations)))),i.a.createElement("div",{className:"hide-scrollbar forecast-container"},i.a.createElement(Be,{weather:t,forecasts:s}))))},He=function(){var e=i.a.useState(null),t=Object(o.a)(e,2),a=t[0],n=t[1],r=i.a.useState(null),c=Object(o.a)(r,2),l=c[0],p=c[1],f=i.a.useState(null),d=Object(o.a)(f,2),g=d[0],h=d[1],E=i.a.useState(""),b=Object(o.a)(E,2),y=b[0],w=b[1],j="prompt",x="denied",O=i.a.useCallback((function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){return t=e.coords.latitude,a=e.coords.longitude,v.getWeatherByCoords(t,a,m.getLanguage()).then((function(e){return n(e)})).catch((function(e){h(e.message),console.log(e)})),void v.getForecastByCoords(t,a,m.getLanguage()).then((function(e){p(e)})).catch((function(e){h(e.message),console.log(e)}));var t,a}))}),[]);i.a.useEffect((function(){navigator.permissions.query({name:"geolocation"}).then((function(e){w(e.state),e.onchange=function(){return w(e.state)}}))}),[]);var k=i.a.useCallback((function(){v.getIpLocation().then((function(e){C(e.city,e.country_code)})).catch((function(e){y!==j&&(h(m.geolocationDisabled),console.log(e))}))}),[y,j]),S=i.a.useCallback((function(){h(null),O(),y!==x&&y!==j&&navigator.geolocation||k()}),[O,k,y,x,j]);i.a.useEffect((function(){""!==y&&S()}),[S,y]);var C=function(e,t){v.getWeatherByCity(e,t,m.getLanguage()).then((function(e){return n(e)})).catch((function(e){h(e.message),console.log(e)}))},L=function(){S()};return i.a.useEffect((function(){return window.addEventListener("focus",L),function(){window.removeEventListener("focus",L)}})),i.a.createElement("div",{style:{height:"100%",width:"100%"}},g&&i.a.createElement(s.a,{severity:"error"},g),!a&&y===j&&i.a.createElement(s.a,{severity:"info"},i.a.createElement("strong",null,m.important)," ".concat(m.geolocationRequest)),a?i.a.createElement(Fe,{weather:a,forecast:l}):y!==x&&i.a.createElement(u.a,null))};var Ye=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(He,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(110);c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(Ye,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}]),[[73,1,2]]]);
//# sourceMappingURL=main.05b885ae.chunk.js.map